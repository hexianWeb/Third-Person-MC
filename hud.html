<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebMC HUD v2.1 - XP Bar Integrated</title>
    <style>
        :root {
            /* === 全局缩放 === */
            --ui-scale: 2.5;

            /* === 资源路径配置 === */
            --img-heart-empty: url('./public/textures/hub/heart_empty.png');
            --img-heart-full:  url('./public/textures/hub/heart_full.png');
            --img-heart-half:  url('./public/textures/hub/heart_half.png');

            --img-food-empty:  url('./public/textures/hub/food_empty.png');
            --img-food-full:   url('./public/textures/hub/food_full.png');
            --img-food-half:   url('./public/textures/hub/food_half.png');

            /* 经验条资源 */
            --img-xp-bg:       url('./public/textures/hub/experience_bar_background.png');
            --img-xp-fill:     url('./public/textures/hub/experience_bar_progress.png');

            --img-hotbar-bg:   url('./public/textures/hub/hotbar.png');      
            --img-selector:    url('./public/textures/hub/hotbar_selection.png'); 

            /* === 动画配置 === */
            --wave-stagger: 0.15s;
            
            /* === 字体颜色 === */
            --xp-text-color: #80ff20; /* 经典的 MC 经验绿 */
            --xp-text-shadow: #20400b; /* 深绿色阴影 */
        }

        body {
            margin: 0;
            background-color: #8faadd;
            height: 100vh;
            overflow: hidden;
            user-select: none;
            /* 建议引入 Minecraft 字体文件效果更佳 */
            font-family: 'Courier New', monospace; 
        }

        /* 强制像素化 */
        * {
            image-rendering: pixelated; 
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
            box-sizing: border-box;
        }

        .hud-container {
            position: fixed;
            bottom: calc(10px * var(--ui-scale));
            left: 50%;
            transform: translateX(-50%) scale(1.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            width: fit-content;
        }

        /* === 状态栏 (血条 & 饥饿) === */
        .stats-row {
            display: flex;
            justify-content: space-between;
            width: calc(182px * var(--ui-scale)); 
            /* 稍微调整底部边距，给经验条腾出空间 */
            margin-bottom: calc(2px * var(--ui-scale));
        }

        /* 核心逻辑：Unit (Icon) 双层渲染 */
        .unit {
            width: calc(9px * var(--ui-scale));
            height: calc(9px * var(--ui-scale));
            position: relative;
            margin-right: calc(0px * var(--ui-scale)); 
        }

        .unit::before {
            content: '';
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-size: contain;
            background-repeat: no-repeat;
            z-index: 0;
        }

        .unit::after {
            content: '';
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-size: contain;
            background-repeat: no-repeat;
            z-index: 1;
        }

        /* === 具体图标映射 === */
        .heart::before { background-image: var(--img-heart-empty); }
        .heart.full::after { background-image: var(--img-heart-full); }
        .heart.half::after { background-image: var(--img-heart-half); }
        .heart.empty::after { display: none; } 

        .food::before { background-image: var(--img-food-empty); }
        .food.full::after { background-image: var(--img-food-full); }
        .food.half::after { background-image: var(--img-food-half); }
        .food.empty::after { display: none; }

        .health-bar { display: flex; flex-direction: row; }
        .food-bar   { display: flex; flex-direction: row-reverse; }


        /* === 经验条 (XP Bar) === */
        .xp-container {
            position: relative;
            width: calc(182px * var(--ui-scale));
            height: calc(5px * var(--ui-scale));
            margin-bottom: calc(4px * var(--ui-scale)); /* 与物品栏的间距 */
            display: flex;
            justify-content: center; /* 水平居中 */
            align-items: center; /* 垂直居中 */
        }

        /* 1. 经验条背景 (空槽) */
        .xp-bg {
            position: absolute;
            top: 0; left: 0;
            width: 100%;
            height: 100%;
            background-image: var(--img-xp-bg);
            background-size: 100% 100%;
            z-index: 0;
        }

        /* 2. 经验条进度 (填充) */
        .xp-fill {
            position: absolute;
            top: 0; left: 0;
            height: 100%;
            /* 关键：通过 width 控制进度，比如 37% */
            width: 37%; 
            background-image: var(--img-xp-fill);
            /* 保持 fill 图片比例，只显示左边部分 */
            background-size: calc(182px * var(--ui-scale)) 100%;
            background-position: left center;
            background-repeat: no-repeat;
            z-index: 1;
        }

        /* 3. 等级文字 (Level Number) */
        .xp-level {
            position: absolute;
            z-index: 2;

            color: var(--xp-text-color);
            font-size: calc(10px * var(--ui-scale)); /* 调整字号适配 */
            line-height: 1;
            font-family: 'Courier New', monospace;  
            font-weight: bold;
            text-shadow:
                calc(1px * var(--ui-scale)) calc(1px * var(--ui-scale)) 0 var(--xp-text-shadow),
                calc(1px * var(--ui-scale)) 0 0 var(--xp-text-shadow),
                0 calc(1px * var(--ui-scale)) 0 var(--xp-text-shadow);
                calc(-1px * var(--ui-scale)) calc(1px * var(--ui-scale)) 0 var(--xp-text-shadow),
                calc(-1px * var(--ui-scale)) 0 0 var(--xp-text-shadow);
                0 calc(-1px * var(--ui-scale)) 0 var(--xp-text-shadow);
        }


        /* === 物品栏 (Hotbar) === */
        .hotbar-container {
            position: relative;
            width: calc(182px * var(--ui-scale));
            height: calc(22px * var(--ui-scale));
            background-image: var(--img-hotbar-bg);
            background-size: 100% 100%;
            background-repeat: no-repeat;
        }

        .selector {
            position: absolute;
            width: calc(24px * var(--ui-scale)); 
            height: calc(24px * var(--ui-scale));
            background-image: var(--img-selector);
            background-size: contain;
            background-repeat: no-repeat;
            top: calc(-1px * var(--ui-scale)); 
            left: calc(-1px * var(--ui-scale)); 
            z-index: 2;
            pointer-events: none;
            transition: left 0.1s steps(1);
        }

        .slots {
            display: flex;
            width: 100%;
            height: 100%;
            padding-left: calc(3px * var(--ui-scale));
            padding-top: calc(3px * var(--ui-scale));
            gap: calc(2px * var(--ui-scale));
        }

        .slot {
            width: calc(16px * var(--ui-scale));
            height: calc(16px * var(--ui-scale));
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1;
        }

        .item-icon {
            width: 90%;
            height: 90%;
            object-fit: contain;
            filter: drop-shadow(calc(2px * var(--ui-scale)) calc(2px * var(--ui-scale)) 0 rgba(0,0,0,0.3));
        }

        /* === 跳动动画系统 === */
        @keyframes mc-jump {
            0%, 6%, 100% { transform: translateY(0); }
            3% { transform: translateY(calc(-4px * var(--ui-scale))); }
        }

        .unit {
            animation: mc-jump 6s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
        }

        .health-bar .unit:nth-child(1) { animation-delay: calc(0 * var(--wave-stagger)); }
        .health-bar .unit:nth-child(2) { animation-delay: calc(1 * var(--wave-stagger)); }
        .health-bar .unit:nth-child(3) { animation-delay: calc(2 * var(--wave-stagger)); }
        .health-bar .unit:nth-child(4) { animation-delay: calc(3 * var(--wave-stagger)); }
        .health-bar .unit:nth-child(5) { animation-delay: calc(4 * var(--wave-stagger)); }
        .health-bar .unit:nth-child(6) { animation-delay: calc(5 * var(--wave-stagger)); }
        .health-bar .unit:nth-child(7) { animation-delay: calc(6 * var(--wave-stagger)); }
        .health-bar .unit:nth-child(8) { animation-delay: calc(7 * var(--wave-stagger)); }
        .health-bar .unit:nth-child(9) { animation-delay: calc(8 * var(--wave-stagger)); }
        .health-bar .unit:nth-child(10){ animation-delay: calc(9 * var(--wave-stagger)); }

        .food-bar .unit:nth-child(10){ animation-delay: calc(0 * var(--wave-stagger) + 0.75s); }
        .food-bar .unit:nth-child(9) { animation-delay: calc(1 * var(--wave-stagger) + 0.75s); }
        .food-bar .unit:nth-child(8) { animation-delay: calc(2 * var(--wave-stagger) + 0.75s); }
        .food-bar .unit:nth-child(7) { animation-delay: calc(3 * var(--wave-stagger) + 0.75s); }
        .food-bar .unit:nth-child(6) { animation-delay: calc(4 * var(--wave-stagger) + 0.75s); }
        .food-bar .unit:nth-child(5) { animation-delay: calc(5 * var(--wave-stagger) + 0.75s); }
        .food-bar .unit:nth-child(4) { animation-delay: calc(6 * var(--wave-stagger) + 0.75s); }
        .food-bar .unit:nth-child(3) { animation-delay: calc(7 * var(--wave-stagger) + 0.75s); }
        .food-bar .unit:nth-child(2) { animation-delay: calc(8 * var(--wave-stagger) + 0.75s); }
        .food-bar .unit:nth-child(1) { animation-delay: calc(9 * var(--wave-stagger) + 0.75s); }

        .health-bar:hover .unit,
        .food-bar:hover .unit {
            animation-duration: 1.5s;
            animation-iteration-count: infinite;
        }

    </style>
</head>
<body>

    <div class="hud-container">
        
        <div class="stats-row">
            <div class="health-bar">
                <div class="unit heart full"></div>
                <div class="unit heart full"></div>
                <div class="unit heart full"></div>
                <div class="unit heart full"></div>
                <div class="unit heart full"></div>
                <div class="unit heart full"></div>
                <div class="unit heart full"></div>
                <div class="unit heart full"></div>
                <div class="unit heart half"></div>
                <div class="unit heart empty"></div>
            </div>

            <div class="food-bar">
                <div class="unit food full"></div>
                <div class="unit food full"></div>
                <div class="unit food full"></div>
                <div class="unit food full"></div>
                <div class="unit food full"></div>
                <div class="unit food full"></div>
                <div class="unit food full"></div>
                <div class="unit food half"></div>
                <div class="unit food empty"></div>
                <div class="unit food empty"></div>
            </div>
        </div>

        <div class="xp-container">
            <div class="xp-bg"></div>
            <div class="xp-fill" style="width: 55%;"></div>
            <!-- <div class="xp-level">7</div> -->
        </div>

        <div class="hotbar-container">
            <div class="selector" style="left: calc(-1px * var(--ui-scale))"></div>

            <div class="slots">
                <div class="slot">
                    <!-- <img src="./public/textures/hub/diamond_sword.png" class="item-icon" alt="Weapon"> -->
                </div>
                <div class="slot"></div>
                <div class="slot">
                    <!-- <img src="./public/textures/hub/apple.png" class="item-icon" alt="Food"> -->
                </div>
                <div class="slot"></div>
                <div class="slot"></div>
                <div class="slot"></div>
                <div class="slot"></div>
                <div class="slot"></div>
                <div class="slot"></div>
            </div>
        </div>

    </div>

</body>
</html>